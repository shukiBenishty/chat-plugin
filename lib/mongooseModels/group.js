"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _mongoose = _interopRequireDefault(require("mongoose"));

var Schema = _mongoose["default"].Schema;
var groupSchema = new Schema({
  name: String,
  picture: {
    type: String,
    "default": ""
  },
  subscribers: [{
    type: Schema.Types.ObjectId,
    ref: 'User'
  }],
  createdAt: Date,
  updatedAt: Date
});
groupSchema.pre('save', function (next) {
  var currentDate = new Date();
  this.updatedAt = currentDate;
  if (!this.createdAt) this.createdAt = currentDate;
  next();
});

var _default = function _default(db) {
  db.model('Group', groupSchema);
};

exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb25nb29zZU1vZGVscy9ncm91cC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsImdyb3VwU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsInBpY3R1cmUiLCJ0eXBlIiwic3Vic2NyaWJlcnMiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInVwZGF0ZWRBdCIsInByZSIsIm5leHQiLCJjdXJyZW50RGF0ZSIsImRiIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBLElBQU1BLE1BQU0sR0FBR0MscUJBQVNELE1BQXhCO0FBRUEsSUFBTUUsV0FBVyxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUMzQkcsRUFBQUEsSUFBSSxFQUFFQyxNQURxQjtBQUUzQkMsRUFBQUEsT0FBTyxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUYsTUFBUjtBQUFnQixlQUFTO0FBQXpCLEdBRmtCO0FBRzNCRyxFQUFBQSxXQUFXLEVBQUUsQ0FBQztBQUFDRCxJQUFBQSxJQUFJLEVBQUVOLE1BQU0sQ0FBQ1EsS0FBUCxDQUFhQyxRQUFwQjtBQUE4QkMsSUFBQUEsR0FBRyxFQUFFO0FBQW5DLEdBQUQsQ0FIYztBQUkzQkMsRUFBQUEsU0FBUyxFQUFFQyxJQUpnQjtBQUszQkMsRUFBQUEsU0FBUyxFQUFFRDtBQUxnQixDQUFYLENBQXBCO0FBU0FWLFdBQVcsQ0FBQ1ksR0FBWixDQUFnQixNQUFoQixFQUF3QixVQUFTQyxJQUFULEVBQWU7QUFDbkMsTUFBSUMsV0FBVyxHQUFHLElBQUlKLElBQUosRUFBbEI7QUFDQSxPQUFLQyxTQUFMLEdBQWlCRyxXQUFqQjtBQUNBLE1BQUksQ0FBQyxLQUFLTCxTQUFWLEVBQ0ksS0FBS0EsU0FBTCxHQUFpQkssV0FBakI7QUFDSkQsRUFBQUEsSUFBSTtBQUNQLENBTkQ7O2VBUWdCLGtCQUFBRSxFQUFFLEVBQUk7QUFBRUEsRUFBQUEsRUFBRSxDQUFDQyxLQUFILENBQVMsT0FBVCxFQUFrQmhCLFdBQWxCO0FBQStCLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBncm91cFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgbmFtZTogU3RyaW5nLFxyXG4gICAgcGljdHVyZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiXCIgfSxcclxuICAgIHN1YnNjcmliZXJzOiBbe3R5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcid9XSxcclxuICAgIGNyZWF0ZWRBdDogRGF0ZSxcclxuICAgIHVwZGF0ZWRBdDogRGF0ZVxyXG5cclxufSk7XHJcblxyXG5ncm91cFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XHJcbiAgICBsZXQgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdGhpcy51cGRhdGVkQXQgPSBjdXJyZW50RGF0ZTtcclxuICAgIGlmICghdGhpcy5jcmVhdGVkQXQpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVkQXQgPSBjdXJyZW50RGF0ZTtcclxuICAgIG5leHQoKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAgZGIgPT4geyBkYi5tb2RlbCgnR3JvdXAnLCBncm91cFNjaGVtYSl9Il19